mems:
  # ===== 模型配置 =====
  model_name: "Pro/Qwen/Qwen2.5-7B-Instruct"

  # ===== 记忆源1配置 =====
  memory_source_1:
    name: "system_memory"  # 记忆源名称（用于trigger model识别）
    config_path: "memory/awmPro/awmPro.yaml"  # 记忆源的配置文件路径

  # ===== 记忆源2配置 =====
  memory_source_2:
    name: "personal_memory"  # 记忆源名称（用于trigger model识别）
    config_path: "memory/mem0/mem0.yaml"  # 记忆源的配置文件路径

  # ===== Retrieval Trigger Prompt =====
  # 在检索阶段，trigger model决定检索哪个记忆源
  retrieval_trigger_prompt: |
    You are a memory source selector. Given the task query, decide which memory source(s) should be retrieved from.

    Available memory sources:
    - system_memory: Stores task execution workflows and experiences. Use for tasks requiring procedural knowledge, tool usage patterns, or execution strategies.
    - personal_memory: Stores user preferences and conversation history. Use for tasks requiring personalization or user-specific information.

    Task query:
    {query}

    You must return your decision in JSON format:
    {{
      "sources": ["system_memory"] | ["personal_memory"] | ["system_memory", "personal_memory"],
      "reasoning": "brief explanation"
    }}

  # ===== Update Trigger Prompt =====
  # 在更新阶段，trigger model决定更新哪个记忆源
  update_trigger_prompt: |
    You are a memory source selector. Given the task interaction trajectory, decide which memory source(s) should be updated.

    Available memory sources:
    - system_memory: Stores task execution workflows and experiences. Update when the trajectory contains procedural patterns, repeated action sequences, or tool-use workflows.
    - personal_memory: Stores user preferences and conversation history. Update when the trajectory contains user-specific information such as preferences, facts, or dialogue context.

    Task interaction trajectory:
    {history}

    You must return your decision in JSON format:
    {{
      "sources": ["system_memory"] | ["personal_memory"] | ["system_memory", "personal_memory"],
      "reasoning": "brief explanation"
    }}

  # ===== Trigger Model 配置 =====
  trigger_model_max_retries: 5  # Trigger model调用的最大重试次数

  # Update阶段过滤条件（只在满足条件时才调用update trigger model）
  update_success_only: true  # 只在成功样本上更新记忆
  update_reward_bigger_than_zero: true  # 只在reward>0时更新记忆
